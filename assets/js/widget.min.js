function init_calendar(e){$(".tbody").empty(),$(".events-container").empty();var t=$(".tbody"),a=e.getMonth(),n=e.getFullYear(),s=days_in_month(a,n),c=$("<tr class='table-row'></tr>"),i=e.getDate();e.setDate(1);for(var o=e.getDay(),d=0;d<35+o;d++){var l=d-o+1;if(d%7==0&&(t.append(c),c=$("<tr class='table-row'></tr>")),d<o||l>s){var r=$("<td class='table-date nil'></td>");c.append(r)}else{r=$("<td class='table-date'>"+l+"</td>");var p=check_events(l,a+1,n);i===l&&0===$(".active-date").length&&(r.addClass("active-date"),show_events(p,months[a],l)),0!==p.length&&r.addClass("event-date"),r.click({events:p,month:months[a],day:l},date_click),c.append(r)}}t.append(c),$(".year").text(n)}function days_in_month(e,t){var a=new Date(t,e,1);return(new Date(t,e+1,1)-a)/864e5}function date_click(e){$(".events-container").show(250),$("#dialog").hide(250),$(".active-date").removeClass("active-date"),$(this).addClass("active-date"),show_events(e.data.events,e.data.month,e.data.day)}function month_click(e){$(".events-container").show(250),$("#dialog").hide(250);var t=e.data.date;$(".active-month").removeClass("active-month"),$(this).addClass("active-month");var a=$(".month").index(this);t.setMonth(a),init_calendar(t)}function next_year(e){$("#dialog").hide(250);var t=e.data.date,a=t.getFullYear()+1;$("year").html(a),t.setFullYear(a),init_calendar(t)}function prev_year(e){$("#dialog").hide(250);var t=e.data.date,a=t.getFullYear()-1;$("year").html(a),t.setFullYear(a),init_calendar(t)}function new_event(e){0!==$(".active-date").length&&($("input").click(function(){$(this).removeClass("error-input")}),$("#dialog input[type=text]").val(""),$("#dialog input[type=number]").val(""),$(".events-container").hide(250),$("#dialog").show(250),$("#cancel-button").click(function(){$("#name").removeClass("error-input"),$("#count").removeClass("error-input"),$("#dialog").hide(250),$(".events-container").show(250)}),$("#ok-button").unbind().click({date:e.data.date},function(){var t=e.data.date,a=$("#name").val().trim(),n=parseInt($("#count").val().trim()),s=parseInt($(".active-date").html());0===a.length?$("#name").addClass("error-input"):isNaN(n)?$("#count").addClass("error-input"):($("#dialog").hide(250),console.log("new event"),new_event_json(a,n,t,s),t.setDate(s),init_calendar(t))}))}function new_event_json(e,t,a,n){var s={occasion:e,invited_count:t,year:a.getFullYear(),month:a.getMonth()+1,day:n};event_data.events.push(s)}function show_events(e,t,a){if($(".events-container").empty(),$(".events-container").show(250),console.log(event_data.events),0===e.length){var n=$("<div class='event-card'></div>"),s=$("<div class='event-name'>There are no events planned for "+t+" "+a+".</div>");$(n).css({"border-left":"10px solid #FF1744"}),$(n).append(s),$(".events-container").append(n)}else for(var c=0;c<e.length;c++){n=$("<div class='event-card'></div>"),s=$("<div class='event-name'>"+e[c].occasion+":</div>");var i=$("<div class='event-count'>"+e[c].invited_count+" Invited</div>");!0===e[c].cancelled&&($(n).css({"border-left":"10px solid #FF1744"}),i=$("<div class='event-cancelled'>Cancelled</div>")),$(n).append(s).append(i),$(".events-container").append(n)}}function check_events(e,t,a){for(var n=[],s=0;s<event_data.events.length;s++){var c=event_data.events[s];c.day===e&&c.month===t&&c.year===a&&n.push(c)}return n}$(document).ready(function(){$("#rastep0").css({display:"block"}),$("#add-button").click(function(){$("#rastep0").css({display:"none"}),$("#rastep1").css({display:"block"})}),$("#rasteponeback").click(function(){$("#rastep1").css({display:"none"}),$("#rastep0").css({display:"block"})}),$("#rasteponenext").click(function(){$("#rastep1").css({display:"none"}),$("#rastep2").css({display:"block"})}),$("#rasteptwoback").click(function(){$("#rastep2").css({display:"none"}),$("#rastep1").css({display:"block"})}),$("#rasteptwonext").click(function(){$("#rastep2").css({display:"none"}),$("#rastep3").css({display:"block"})}),$("#rastepthreeback").click(function(){$("#rastep3").css({display:"none"}),$("#rastep2").css({display:"block"})}),$("#rastepthreenext").click(function(){$("#rastep3").css({display:"none"}),$("#rastep4").css({display:"block"})}),$("#rastepfourback").click(function(){$("#rastep4").css({display:"none"}),$("#rastep3").css({display:"block"})}),$("#rastepfournext").click(function(){$("#rastep4").css({display:"none"}),$("#rastep5").css({display:"block"})}),$("#rastepfiveback").click(function(){$("#rastep5").css({display:"none"}),$("#rastep4").css({display:"block"})}),$("#rastepfivenext").click(function(){$("#rastep5").css({display:"none"}),$("#rastep6").css({display:"block"})}),$("#rastepsixback").click(function(){$("#rastep6").css({display:"none"}),$("#rastep5").css({display:"block"})}),$("#rastepsevennext").click(function(){$("#rastep6").css({display:"none"}),$("#rastep7").css({display:"block"})}),$("#rastepsevenback").click(function(){$("#rastep7").css({display:"none"}),$("#rastep6").css({display:"block"})}),$("#rastepeightnext").click(function(){$("#rastep7").css({display:"none"}),$("#rastep8").css({display:"block"})}),$("#rastepeightback").click(function(){$("#rastep8").css({display:"none"}),$("#rastep7").css({display:"block"})})}),$(document).ready(function(){var e=new Date,t=e.getDate();$(".right-button").click({date:e},next_year),$(".left-button").click({date:e},prev_year),$(".month").click({date:e},month_click),$("#add-button").click({date:e},new_event),$(".months-row").children().eq(e.getMonth()).addClass("active-month"),init_calendar(e),show_events(check_events(t,e.getMonth()+1,e.getFullYear()),months[e.getMonth()],t)});var event_data={events:[{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10,cancelled:!0},{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10,cancelled:!0},{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10,cancelled:!0},{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10},{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10,cancelled:!0},{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10},{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10,cancelled:!0},{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10},{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10,cancelled:!0},{occasion:" Repeated Test Event ",invited_count:120,year:2017,month:5,day:10},{occasion:" Test Event",invited_count:120,year:2017,month:5,day:11}]};const months=["January","February","March","April","May","June","July","August","September","October","November","December"];